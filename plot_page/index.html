<!DOCTYPE html>
<html>
	<head>
        <meta charset="utf-8" />
		<title>MPU6050 Signal Plotting</title>


		<link rel="stylesheet" type="text/css" href="normalize.css" />
		<link rel="stylesheet" type="text/css" href="style.css" />

		<link rel="stylesheet" type="text/css" href="package/semantic/css/semantic.min.css" />
		<script language="javascript" type="text/javascript" src="package/semantic/javascript/semantic.min.js"></script>

		<script language="javascript" type="text/javascript" src="package/flot/jquery.min.js"></script>
		<script language="javascript" type="text/javascript" src="package/flot/jquery.flot.min.js"></script>
		<script>

			$(function() {

				var number_of_signal = 200;
				// set update interval in micro second (ms)
				var updateInterval = 1;

				function update() {
					var url = 'http://localhost:8888/?callback=?';
					$.getJSON(url, function(data) {
						plot.setData(data.data);
						plot.draw();
					});
					setTimeout(update, updateInterval);
				};

				var signal_type = ['x-acc', 'y-acc', 'z-acc', 'x-gyro', 'y-gyro', 'z-gyro'];
				var init = [];

				for (var i = 0; i < 6; ++i) {
					var init_signal = [];
					for (var j = 0; j < number_of_signal; ++j) {
						init_signal.push([j, 0]);
					}
					init.push({
						label: signal_type[i],
						data: init_signal
					});
				}

				var plot = $.plot('#signal-plot', init, {
					series: { 
						lines: { show: true, lineWidth: 1 },
						shadowSize: 0 },
					xaxis: { show: false },
					yaxis: { min: -36000, max: 36000 },
					legend: { position: "sw" }
				});

				update();

			});
		

		</script>
	</head>
	<body>
	  <div class="ui one column page grid segment">
			<div class="column">
				<h1>MPU6050 Signal Plotting</h1>

				<div id="signal-plot"></div>
			</div>

		</div>
		
	</body>
</html>

